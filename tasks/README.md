# å¤šæ¨¡æ€RAGé¡¹ç›® - ç¯å¢ƒé…ç½®ä¸æ•°æ®é¢„å¤„ç†

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„å¤šæ¨¡æ€æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)ç³»ç»Ÿçš„åŸºç¡€ç¯å¢ƒé…ç½®å’ŒPDFæ•°æ®é¢„å¤„ç†æµç¨‹ã€‚

## é¡¹ç›®ç»“æ„

```
RAG-01/
â”œâ”€â”€ datas/                          # å­˜æ”¾å¾…å¤„ç†çš„PDFæ–‡ä»¶
â”œâ”€â”€ output/                         # å­˜æ”¾ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ all_pdf_page_chunks.json   # PDFè§£æç»“æœ
â”œâ”€â”€ scripts/                        # å­˜æ”¾å¯æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ venv/                          # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ environment_setup.ipynb        # ç¯å¢ƒé…ç½®notebook
â”œâ”€â”€ pdf_preprocessing.ipynb        # PDFé¢„å¤„ç†notebook
â”œâ”€â”€ requirements.txt               # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ .gitignore                     # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

é¦–å…ˆè¿è¡Œç¯å¢ƒé…ç½®notebookï¼š

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # macOS/Linux
# æˆ–
venv\Scripts\activate     # Windows

# å¯åŠ¨Jupyter
jupyter notebook environment_setup.ipynb
```

### 2. æ•°æ®é¢„å¤„ç†

å°†PDFæ–‡ä»¶æ”¾å…¥ `datas/` ç›®å½•ï¼Œç„¶åè¿è¡Œé¢„å¤„ç†notebookï¼š

```bash
jupyter notebook pdf_preprocessing.ipynb
```

## åŠŸèƒ½ç‰¹æ€§

### ç¯å¢ƒé…ç½® (environment_setup.ipynb)

- âœ… è‡ªåŠ¨æ£€æµ‹Pythonç¯å¢ƒ
- âœ… å®‰è£…æ ¸å¿ƒä¾èµ–åº“ï¼ˆmineru, transformers, faiss-gpuç­‰ï¼‰
- âœ… éªŒè¯ä¾èµ–å®‰è£…çŠ¶æ€
- âœ… ç”Ÿæˆrequirements.txtæ–‡ä»¶
- âœ… æ˜¾ç¤ºé¡¹ç›®ç›®å½•ç»“æ„

### PDFé¢„å¤„ç† (pdf_preprocessing.ipynb)

- âœ… æ‰¹é‡å¤„ç†PDFæ–‡ä»¶
- âœ… ä½¿ç”¨MinerUè¿›è¡Œæ–‡æ¡£è§£æ
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- âœ… æ–‡æœ¬åˆ†å—å¤„ç†
- âœ… ç”Ÿæˆç»“æ„åŒ–JSONè¾“å‡º
- âœ… å¤„ç†è¿›åº¦æ˜¾ç¤º
- âœ… è¯¦ç»†çš„å¤„ç†æ—¥å¿—

## æ ¸å¿ƒä¾èµ–

- **mineru**: PDFæ–‡æ¡£è§£æ
- **transformers**: æ–‡æœ¬å¤„ç†å’Œæ¨¡å‹æ”¯æŒ
- **faiss-gpu**: å‘é‡ç›¸ä¼¼åº¦æœç´¢
- **tqdm**: è¿›åº¦æ¡æ˜¾ç¤º
- **numpy**: æ•°å€¼è®¡ç®—
- **PyPDF2**: åŸºç¡€PDFå¤„ç†ï¼ˆå¤‡ç”¨ï¼‰

## è¾“å‡ºè¯´æ˜

### all_pdf_page_chunks.json ç»“æ„

```json
{
  "processing_info": {
    "start_time": "2024-01-01T10:00:00",
    "end_time": "2024-01-01T10:05:00",
    "total_files": 5,
    "processed_files": 5,
    "failed_files": 0,
    "success_files": ["document1.pdf", "document2.pdf"],
    "total_pages": 50,
    "total_chunks": 200
  },
  "documents": [
    {
      "file_name": "document1.pdf",
      "file_path": "/path/to/document1.pdf",
      "file_size": 1024000,
      "parsed_at": "2024-01-01T10:01:00",
      "total_pages": 10,
      "total_chunks": 40,
      "pages": [
        {
          "page_number": 1,
          "text": "é¡µé¢æ–‡æœ¬å†…å®¹...",
          "text_length": 1500,
          "chunks": [
            {
              "chunk_id": "document1_page_1_chunk_1",
              "content": "æ–‡æœ¬å—å†…å®¹...",
              "start_pos": 0,
              "end_pos": 500
            }
          ]
        }
      ],
      "tables": [],
      "images": [],
      "metadata": {}
    }
  ]
}
```

## ä½¿ç”¨è¯´æ˜

1. **å‡†å¤‡PDFæ–‡ä»¶**: å°†éœ€è¦å¤„ç†çš„PDFæ–‡ä»¶æ”¾å…¥ `datas/` ç›®å½•
2. **è¿è¡Œç¯å¢ƒé…ç½®**: æ‰§è¡Œ `environment_setup.ipynb` å®‰è£…ä¾èµ–
3. **æ‰§è¡Œé¢„å¤„ç†**: è¿è¡Œ `pdf_preprocessing.ipynb` å¤„ç†PDFæ–‡ä»¶
4. **æ£€æŸ¥è¾“å‡º**: åœ¨ `output/` ç›®å½•æŸ¥çœ‹ç”Ÿæˆçš„ `all_pdf_page_chunks.json` æ–‡ä»¶

## é”™è¯¯å¤„ç†

- ğŸ“ **æŸåçš„PDF**: è‡ªåŠ¨è·³è¿‡å¹¶è®°å½•é”™è¯¯ä¿¡æ¯
- ğŸ”„ **é‡è¯•æœºåˆ¶**: å¯¹ä¸´æ—¶é”™è¯¯è¿›è¡Œé‡è¯•
- ğŸ“Š **è¯¦ç»†æ—¥å¿—**: å®Œæ•´çš„å¤„ç†è¿‡ç¨‹è®°å½•
- âœ… **å¹‚ç­‰æ€§**: å¯é‡å¤æ‰§è¡Œï¼Œè¦†ç›–æ—§ç»“æœ

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œæ‰€æœ‰ä»£ç 
- PDFæ–‡ä»¶è¾ƒå¤§æ—¶å¤„ç†æ—¶é—´å¯èƒ½è¾ƒé•¿
- å»ºè®®å…ˆç”¨å°æ–‡ä»¶æµ‹è¯•æµç¨‹
- æ£€æŸ¥ `output/` ç›®å½•çš„ç£ç›˜ç©ºé—´

## ä¸‹ä¸€æ­¥

å®Œæˆæ•°æ®é¢„å¤„ç†åï¼Œå¯ä»¥ç»§ç»­è¿›è¡Œï¼š
- æ–‡æœ¬å‘é‡åŒ–
- æ„å»ºå‘é‡ç´¢å¼•
- å®ç°æ£€ç´¢åŠŸèƒ½
- é›†æˆç”Ÿæˆæ¨¡å‹

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬å…¼å®¹æ€§
2. ä¾èµ–åº“å®‰è£…çŠ¶æ€
3. PDFæ–‡ä»¶æ ¼å¼å’Œå®Œæ•´æ€§
4. ç£ç›˜ç©ºé—´å’Œæƒé™

---

**é¡¹ç›®çŠ¶æ€**: âœ… ç¯å¢ƒé…ç½®ä¸æ•°æ®é¢„å¤„ç†å®Œæˆ
